{% style %}
  .header-announcement {    
    --xx_small: {{ section.settings.promo_size }}px;
  }  
{% endstyle %}

<section data-section-id="{{ section.id }}" 
         data-section-type="header_announcement">
  <div class="header banner header-announcement{% if section.settings.include_bar_border %} include-border{% endif %} announcement_color_scheme {{ section.settings.text_alignment }}">  
    <div class="container inner-container clearfix">
      {% if section.settings.promo_link != blank %}
      <a href="{{ section.settings.promo_link }}" title="{% if section.settings.promo_text != blank %}{{ section.settings.promo_text | escape }}{% else %}{{ 'homepage.onboarding.no_title' | t | escape }}{% endif %}">{% if section.settings.promo_text != blank %}{{ section.settings.promo_text }}{% else %}{{ 'homepage.onboarding.no_title' | t }}{% endif %}</a>
      {% else %}
      {% if section.settings.promo_text != blank %}{{ section.settings.promo_text }}{% else %}{{ 'homepage.onboarding.no_title' | t }}{% endif %}
      {% endif %}
    </div>
  </div>  
</section>

{% schema %}
  {
    "name": "t:sections.announcement.name",
    "settings": [
      {
        "type": "text", 
        "id": "promo_text",
        "label": "t:sections.text.label",
        "default": "Display an announcement, sale or event"
      },
      {
        "type": "range",
        "id": "promo_size",
        "min": 12,
        "max": 22,
        "step": 2,
        "unit": "px",
        "label": "t:sections.announcement_size.label",
        "default": 12
      },
      {
        "type": "select",
        "id": "text_alignment",
        "label": "t:sections.alignment.label",
        "default": "text-center",
        "options": [
          {
            "value": "text-left",
            "label": "t:sections.alignment.left"
          },
          {
            "value": "text-center",
            "label": "t:sections.alignment.center"
          },
          {
            "value": "text-right",
            "label": "t:sections.alignment.right"
          }
        ]
      },
      {
        "type": "url",
        "id": "promo_link",
        "label": "t:sections.link.label"
      },
      {
        "type": "checkbox",
        "id": "include_bar_border",
        "label": "t:sections.show_border.label",
        "default": false
      }
    ]
  }
{% endschema %}